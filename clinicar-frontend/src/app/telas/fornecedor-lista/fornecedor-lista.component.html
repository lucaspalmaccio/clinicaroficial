<div class="fornecedor-container">
  <h2>Fornecedores</h2>

  <!-- Formulário de cadastro/edição -->
  <form [formGroup]="fornecedorForm" (ngSubmit)="salvarFornecedor()" class="form-fornecedor">
    <div class="form-group">
      <label>Nome Fantasia:</label>
      <input formControlName="nomeFantasia" />
      <span *ngIf="fornecedorForm.get('nomeFantasia')?.invalid && fornecedorForm.get('nomeFantasia')?.touched" class="erro">
        Campo obrigatório
      </span>
    </div>

    <div class="form-group">
      <label>CNPJ:</label>
      <input formControlName="cnpj" />
      <span *ngIf="fornecedorForm.get('cnpj')?.invalid && fornecedorForm.get('cnpj')?.touched" class="erro">
        Campo obrigatório
      </span>
    </div>

    <div class="form-group">
      <label>Telefone:</label>
      <input formControlName="telefone" />
    </div>

    <button type="submit" [disabled]="fornecedorForm.invalid">
      {{ fornecedorSelecionado ? 'Atualizar' : 'Salvar' }}
    </button>
  </form>

  <!-- Mensagem geral de erro -->
  <p *ngIf="erro" class="erro">{{ erro }}</p>

  <!-- Lista de fornecedores em tabela -->
  <h3>Lista de Fornecedores</h3>
  <table class="fornecedor-table">
    <thead>
    <tr>
      <th>Nome Fantasia</th>
      <th>CNPJ</th>
      <th>Telefone</th>
      <th>Ações</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let fornecedor of listaFornecedores">
      <td>{{ fornecedor.nomeFantasia }}</td>
      <td>{{ fornecedor.cnpj }}</td>
      <td>{{ fornecedor.telefone }}</td>
      <td class="acoes">
        <button (click)="editarFornecedor(fornecedor)">Editar</button>
        <button (click)="excluirFornecedor(fornecedor)">Excluir</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
